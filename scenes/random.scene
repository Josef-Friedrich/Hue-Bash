#! /bin/bash

source /etc/hue/hue.ini

TITLE="Random scene"
DESCRIPTION="random scene"

function random_light {
  LAMP=$1
  COLOR=$2

  # Color.
  SPREAD=2000
  START=$((COLOR - SPREAD))
  END=$((COLOR + SPREAD))

  COLOR=$(range $START $END)

  # Brightness
  BRIGHTNESS=$(range 50 150)

  hue set $LAMP '{"hue":'$COLOR',"bri":255,"sat":255,"transitiontime":20}'
  sleep 2
  hue set $LAMP '{"bri":'$BRIGHTNESS',"transitiontime":20}'
  sleep 2
}

for LAMP in 1 2 3 7 8 9; do
  loop random_light $LAMP 46920
done
